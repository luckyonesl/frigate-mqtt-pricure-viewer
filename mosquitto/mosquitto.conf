# Default MQTT listener (unencrypted)
listener 1883
allow_anonymous false

# MQTT over TLS/SSL
listener 8883
cafile /mosquitto/certs/ca.pem
certfile /mosquitto/certs/mqtt.example.com-cert.pem
keyfile /mosquitto/certs/mqtt.example.com-key.pem
allow_anonymous false

# Optional: require client certificates (mutual TLS)
require_certificate true
use_subject_as_username true

# Persistence and logging (optional, adjust as needed)
persistence true
persistence_location /mosquitto/data/
log_dest file /mosquitto/log/mosquitto.log
